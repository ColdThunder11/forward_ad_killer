# forward_ad_killer
一个删除合并转发内的广告并重新打包转发的Hoshino插件，检测到包含广告的合并转发时会撤回消息并发送去除广告（以及整蛊）后的合并转发消息。使用本插件要求机器人拥有群管理员。
## 使用方法
将本项目clone至HoshinoBot\hoshino\modules下，自行修改config.json（如果需要）后，在__bot__.py中加入forward_ad_killer   
## 指令列表
| 指令 | 格式 | 备注 |
| ---------- | -------------- | -------------- |
| 重载转发广告杀手配置 | 无 | 在不重载HoshinoBot的情况下重新载入修改后的配置文件 |
## 配置文件
| 项目 | 说明 |
| ---------- | -------------- |
| ban_word | 广告关键词 |
| strict_ban_word | 严格模式下的广告关键词 |
| enable_strict_mode | 是否启用严格模式，默认关闭 |
| enable_punish_mode | 是否启用惩罚模式，启用后会在删除广告后消息的最后加上这条消息的发送者的“再转发有广告的消息我就是小猪”，默认开启 |
| enable_fake_sender | 是否启用发送者伪装模式，启用后会替换包含广告的转发消息的全部发送者为这条消息的发送者，默认关闭 |
## 注意事项
本项目的运行环境为go-cqhttp 0.9.35-fix1，go-cqhttp暂时不支持嵌套合并转发消息的获取，并且提供的API不符合onebot标准，后续API随时有可能变动导致项目失效。同时go-cqhttp对发送合并转发消息的处理可能比较慢，需要等待一下。